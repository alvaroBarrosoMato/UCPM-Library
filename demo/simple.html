<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Iberia/Stripe-style checkout demo + OneTrust UCPM Embedded Web Form (Manual InstallCP + preFill)." />
  <meta name="theme-color" content="#D71920" />
  <title>Iberia | Checkout + Consent (OneTrust UCPM)</title>

  <!-- ✅ REQUIRED: initialize OtSdk command queue (matches your reference implementation) -->
  <script>
    window.OtSdk = window.OtSdk || function(){ (OtSdk.q = OtSdk.q || []).push(arguments); };
  </script>

  <!-- ✅ REQUIRED: OneTrust Embedded Web Form SDK (must be in <head>) -->
  <script
    src="https://privacyportaltrial.onetrust.com/consent-embedded-forms/consent-receipt-scripts/OtFormStub.js"
    data-id="0ceb7c0c-d27e-43c6-9c9c-877694285648"
    worker="https://consent-api.onetrust.com">
  </script>

  <style>
    :root{
      --ib-red:#D71920;
      --ib-red-2:#B5141A;
      --ib-yellow:#FFC72C;

      --ink:#101828;
      --muted:#475467;

      --bg:#FFF7EB;
      --card:#FFFFFF;
      --line:#E4E7EC;

      --shadow: 0 18px 45px rgba(16,24,40,.10);
      --shadow-soft: 0 10px 30px rgba(16,24,40,.08);

      --radius: 18px;
      --radius-sm: 12px;
      --field-radius: 12px;

      --stripe:#635BFF;
      --stripe-2:#4F46E5;
      --stripe-3:#1D4ED8;

      --focus: rgba(99,91,255,.55);
      --focus-ring: 0 0 0 4px rgba(99,91,255,.14);

      --danger:#D92D20;

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--font);
      color: var(--ink);
      background:
        radial-gradient(1200px 500px at 10% 0%, rgba(255,199,44,.55) 0%, rgba(255,199,44,0) 65%),
        radial-gradient(1000px 600px at 90% 20%, rgba(215,25,32,.25) 0%, rgba(215,25,32,0) 70%),
        linear-gradient(180deg, #FFF2DE 0%, var(--bg) 40%, #FFFFFF 100%);
      overflow-x:hidden;
    }

    .wrap{ max-width:1120px; margin:0 auto; padding:28px 16px 34px; }

    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; padding:10px 4px 18px;
    }

    .brand{ display:flex; align-items:center; gap:12px; min-width:240px; }
    .logoMark{
      width:46px;height:46px;border-radius:14px;
      background: conic-gradient(from 240deg, var(--ib-red), var(--ib-red), var(--ib-yellow), var(--ib-yellow), var(--ib-red));
      box-shadow: 0 10px 24px rgba(215,25,32,.25);
      position:relative; isolation:isolate;
    }
    .logoMark:after{
      content:""; position:absolute; inset:10px; border-radius:10px;
      background: rgba(255,255,255,.18);
      transform: rotate(12deg); mix-blend-mode: overlay;
    }

    .brandText{ display:flex; flex-direction:column; line-height:1.1; }
    .brandText .title{ font-size:18px; font-weight:900; letter-spacing:.16em; text-transform:uppercase; }
    .brandText .subtitle{ font-size:12px; color:var(--muted); margin-top:4px; }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:9px 12px; border-radius:999px;
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(228,231,236,.9);
      box-shadow: 0 8px 22px rgba(16,24,40,.06);
      backdrop-filter: blur(10px);
      font-size:12px; color:var(--muted);
      white-space: nowrap;
    }
    .dot{ width:9px;height:9px;border-radius:99px; background: var(--ib-red); box-shadow:0 0 0 4px rgba(215,25,32,.15); }

    .card{
      background: var(--card);
      border: 1px solid rgba(228,231,236,.95);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .cardHeader{
      padding:18px 18px 12px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
      border-bottom:1px solid rgba(228,231,236,.8);
      background: linear-gradient(180deg, rgba(255,255,255,.95) 0%, rgba(255,255,255,.85) 100%);
    }
    .cardTitle h2{ margin:0; font-size:16px; font-weight:800; letter-spacing:.2px; }
    .cardTitle p{ margin:6px 0 0; font-size:12px; color:var(--muted); }
    .cardBody{ padding:18px; }

    /* Intro / instructions */
    .intro{
      padding:14px;
      border-radius: var(--radius-sm);
      border:1px solid rgba(228,231,236,.95);
      background: rgba(255,255,255,.85);
      box-shadow: var(--shadow-soft);
      margin-bottom: 14px;
    }
    .intro strong{ color: var(--ink); }
    .intro .hint{ margin-top:6px; font-size:12px; color: var(--muted); }

    /* Unified form baseline */
    label{
      font-size:12px;
      font-weight:700;
      color: var(--ink);
      letter-spacing:.2px;
    }
    .hint{ font-size:12px; color: var(--muted); }

    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: var(--field-radius);
      border: 1px solid rgba(228,231,236,.95);
      outline:none;
      font-size:14px;
      background:#fff;
      transition: border-color .15s ease, box-shadow .15s ease;
      font-family: var(--font);
      color: var(--ink);
    }
    input:focus, select:focus, textarea:focus{
      border-color: var(--focus);
      box-shadow: var(--focus-ring);
    }
    input::placeholder{ color: rgba(71,84,103,.55); }

    /* Two-column layout */
    .checkoutGrid{ display:grid; grid-template-columns: 1.15fr .85fr; gap:18px; align-items:start; }

    /* Left: Stripe-like */
    .stripeShell{
      border-radius: var(--radius-sm);
      border: 1px solid rgba(228,231,236,.95);
      box-shadow: var(--shadow-soft);
      overflow:hidden;
      background:#fff;
    }
    .stripeTop{
      padding:14px 14px 12px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      background: linear-gradient(135deg, rgba(215,25,32,.10) 0%, rgba(255,199,44,.18) 55%, rgba(255,255,255,1) 100%);
      border-bottom: 1px solid rgba(228,231,236,.9);
    }
    .stripeBadge{
      display:flex; align-items:center; gap:10px;
      font-weight:800; font-size:12px; color:var(--ink);
      letter-spacing:.06em; text-transform:uppercase;
    }
    .stripeBadge .mini{
      width:28px;height:28px;border-radius:10px;
      background: linear-gradient(135deg, var(--stripe) 0%, var(--stripe-2) 65%, var(--stripe-3) 100%);
      box-shadow: 0 12px 24px rgba(79,70,229,.25);
      position:relative;
    }
    .stripeBadge .mini:after{
      content:""; position:absolute; inset:7px; border-radius:7px;
      background: rgba(255,255,255,.18);
      transform: rotate(8deg); mix-blend-mode: overlay;
    }
    .stripeForm{ padding:14px; display:grid; gap:12px; }
    .fieldGrid{ display:grid; grid-template-columns: 1fr 140px 120px; gap:10px; }
    .labelRow{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; margin-bottom:4px; }

    .btn{
      appearance:none; border:none; cursor:pointer;
      border-radius:999px; padding:12px 16px;
      font-weight:900; letter-spacing:.2px;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      display:inline-flex; align-items:center; gap:10px; user-select:none;
      font-family: var(--font);
    }
    .btn:active{ transform: translateY(1px); }
    .btnPrimary{
      background: linear-gradient(135deg, var(--ib-red) 0%, #F04438 45%, var(--ib-yellow) 110%);
      color:#fff; box-shadow: 0 16px 34px rgba(215,25,32,.22);
    }
    .btnPrimary:hover{ box-shadow: 0 18px 40px rgba(215,25,32,.28); }
    .btnGhost{ background: rgba(16,24,40,.04); color: var(--ink); }
    .btnGhost:hover{ background: rgba(16,24,40,.06); }

    .msg{
      border-radius:14px; padding:12px;
      font-size:12px;
      border:1px solid rgba(228,231,236,.95);
      background: rgba(16,24,40,.02);
